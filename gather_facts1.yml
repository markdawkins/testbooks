---
- name: Issue show commands
  hosts: all
  gather_facts: false
  connection: local
  tasks:
    - name: Gather all legacy facts
      cisco.ios.ios_facts:
        gather_subset: all
        available_network_resources: if_data

    - name: Interfaces output
      debug:
        var: if_data['stdout_lines'][0]
        
    - name: Do not gather hardware facts
      cisco.ios.ios_facts:
        gather_subset:
        - '!hardware'
        register: if_data

    - name: Interfaces output
      debug:
        var: if_data['stdout_lines'][0]
        
    - name: Gather legacy and resource facts
      cisco.ios.ios_facts:
        gather_subset: all
        gather_network_resources: all
        register: if_data

    - name: Interfaces output
      debug:
        var: if_data['stdout_lines'][0]
    
    - name: Gather only the interfaces resource facts and no legacy facts
      cisco.ios.ios_facts:
        gather_subset:
        - '!all'
        - '!min'
        gather_network_resources:
        - interfaces
        register: if_data

    - name: Interfaces output
      debug:
        var: if_data['stdout_lines'][0]
